function cov_perzkrti7(){var path="C:\\Users\\IIITB\\Downloads\\iot-fuzz-examples\\Smart_Agriculture\\iotRuleEngine.js";var hash="0190457b9e61071f2e1e6f8a57d54105f4bc202a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\IIITB\\Downloads\\iot-fuzz-examples\\Smart_Agriculture\\iotRuleEngine.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:28}},"1":{start:{line:2,column:15},end:{line:2,column:52}},"2":{start:{line:3,column:16},end:{line:3,column:50}},"3":{start:{line:5,column:0},end:{line:8,column:3}},"4":{start:{line:6,column:2},end:{line:6,column:40}},"5":{start:{line:7,column:2},end:{line:7,column:72}},"6":{start:{line:10,column:0},end:{line:21,column:3}},"7":{start:{line:11,column:2},end:{line:20,column:3}},"8":{start:{line:12,column:19},end:{line:12,column:49}},"9":{start:{line:13,column:4},end:{line:13,column:50}},"10":{start:{line:15,column:21},end:{line:15,column:50}},"11":{start:{line:16,column:4},end:{line:16,column:46}},"12":{start:{line:19,column:4},end:{line:19,column:53}},"13":{start:{line:25,column:0},end:{line:40,column:3}},"14":{start:{line:26,column:21},end:{line:26,column:25}},"15":{start:{line:28,column:4},end:{line:31,column:14}},"16":{start:{line:29,column:23},end:{line:29,column:53}},"17":{start:{line:30,column:8},end:{line:30,column:62}},"18":{start:{line:30,column:31},end:{line:30,column:62}},"19":{start:{line:33,column:4},end:{line:39,column:5}},"20":{start:{line:34,column:24},end:{line:37,column:10}},"21":{start:{line:38,column:8},end:{line:38,column:58}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:21},end:{line:5,column:22}},loc:{start:{line:5,column:27},end:{line:8,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:21},end:{line:10,column:22}},loc:{start:{line:10,column:47},end:{line:21,column:1}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:41},end:{line:40,column:1}},line:25}},branchMap:{"0":{loc:{start:{line:30,column:8},end:{line:30,column:62}},type:"if",locations:[{start:{line:30,column:8},end:{line:30,column:62}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:30},"1":{loc:{start:{line:33,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:39,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:33},"2":{loc:{start:{line:33,column:8},end:{line:33,column:50}},type:"binary-expr",locations:[{start:{line:33,column:8},end:{line:33,column:27}},{start:{line:33,column:31},end:{line:33,column:50}}],line:33}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0190457b9e61071f2e1e6f8a57d54105f4bc202a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_perzkrti7=function(){return actualCoverage;};}return actualCoverage;}cov_perzkrti7();const mqtt=(cov_perzkrti7().s[0]++,require('mqtt'));const client=(cov_perzkrti7().s[1]++,mqtt.connect('mqtt://localhost:1883'));const handler=(cov_perzkrti7().s[2]++,require('./i_lambdaDecisionMaker'));// your Lambda
cov_perzkrti7().s[3]++;client.on('connect',()=>{cov_perzkrti7().f[0]++;cov_perzkrti7().s[4]++;console.log("Rule Engine connected.");cov_perzkrti7().s[5]++;client.subscribe("$aws/things/FieldASensors/shadow/update/documents");});cov_perzkrti7().s[6]++;client.on('message',async(topic,message)=>{cov_perzkrti7().f[1]++;cov_perzkrti7().s[7]++;try{const parsed=(cov_perzkrti7().s[8]++,JSON.parse(message.toString()));cov_perzkrti7().s[9]++;console.log("Rule Engine triggered:",parsed);const response=(cov_perzkrti7().s[10]++,await handler.handler(parsed));cov_perzkrti7().s[11]++;console.log("Lambda returned:",response);}catch(err){cov_perzkrti7().s[12]++;console.error("Rule Engine Error:",err.message);}});cov_perzkrti7().s[13]++;client.on('message',(topic,message)=>{cov_perzkrti7().f[2]++;let testCaseId=(cov_perzkrti7().s[14]++,null);cov_perzkrti7().s[15]++;try{const parsed=(cov_perzkrti7().s[16]++,JSON.parse(message.toString()));cov_perzkrti7().s[17]++;if(parsed.testCaseId){cov_perzkrti7().b[0][0]++;cov_perzkrti7().s[18]++;testCaseId=parsed.testCaseId;}else{cov_perzkrti7().b[0][1]++;}}catch{}cov_perzkrti7().s[19]++;if((cov_perzkrti7().b[2][0]++,global.__coverage__)&&(cov_perzkrti7().b[2][1]++,testCaseId!==null)){cov_perzkrti7().b[1][0]++;const payload=(cov_perzkrti7().s[20]++,JSON.stringify({testCaseId,coverage:global.__coverage__}));cov_perzkrti7().s[21]++;client.publish('coverage/iotRuleEngine',payload);}else{cov_perzkrti7().b[1][1]++;}});